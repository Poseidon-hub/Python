import sqlite3

# Подключаемся к базе данных
conn = sqlite3.connect('delivery_service.db')
cursor = conn.cursor()

# Создание таблицы Курьер
cursor.execute('''CREATE TABLE IF NOT EXISTS Курьер (
    Код_курьера INTEGER PRIMARY KEY,
    Фамилия TEXT,
    Имя TEXT,
    Отчество TEXT,
    Номер_паспорта TEXT,
    Дата_рождения DATE,
    Дата_приема_на_работу DATE,
    Начало_рабочего_дня TIME,
    Конец_рабочего_дня TIME,
    Город TEXT,
    Улица TEXT,
    Дом TEXT,
    Квартира TEXT,
    Телефон TEXT
)''')

# Создание таблицы Заказ
cursor.execute('''CREATE TABLE IF NOT EXISTS Заказ (
    Код_заказа INTEGER PRIMARY KEY,
    Отправитель INTEGER,
    Получатель INTEGER,
    Дата_заказа DATE,
    Дата_доставки DATE,
    Цена_доставки REAL,
    Курьер INTEGER,
    Транспорт INTEGER,
    FOREIGN KEY (Отправитель) REFERENCES Отправитель(Код_отправителя),
    FOREIGN KEY (Получатель) REFERENCES Получатель(Код_получателя),
    FOREIGN KEY (Курьер) REFERENCES Курьер(Код_курьера),
    FOREIGN KEY (Транспорт) REFERENCES Транспорт(Номер_машины)
)''')

# Сохраняем изменения и закрываем соединение
conn.commit()


# Вставка данных в таблицу Курьер
cursor.execute('''INSERT INTO Курьер (Фамилия, Имя, Отчество, Номер_паспорта, Дата_рождения, Дата_приема_на_работу, Начало_рабочего_дня, Конец_рабочего_дня, Город, Улица, Дом, Квартира, Телефон)
                  VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)''',
               ('Иванов', 'Иван', 'Иванович', '1234567890', '1990-01-01', '2020-05-01', '09:00', '18:00', 'Москва', 'Ленина', '10', '5', '123-456-7890'))

# Вставка данных в таблицу Заказ
cursor.execute('''INSERT INTO Заказ (Отправитель, Получатель, Дата_заказа, Дата_доставки, Цена_доставки, Курьер, Транспорт)
                  VALUES (?, ?, ?, ?, ?, ?, ?)''',
               (1, 2, '2024-11-19', '2024-11-20', 500.0, 1, 1))

# Сохраняем изменения
conn.commit()

# Изменение данных в таблице Курьер
cursor.execute('''UPDATE Курьер SET Город = ?, Улица = ?, Дом = ?, Квартира = ? WHERE Код_курьера = ?''',
               ('Санкт-Петербург', 'Пушкина', '15', '10', 1))

# Сохраняем изменения
conn.commit()

# Закрываем соединение с базой данных
conn.close()



